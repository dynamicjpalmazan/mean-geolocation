<div class="right_col" role="main" ng-controller="controllerStoreDetail">

    <!-- Containing Div -->
    <div class="">

        <div class="clearfix"></div>
        <br/>

        <!-- Row -->
        <div class="row" id="dvAddStore">

            <!-- Map Panel Body -->
            <div class="col-md-7 col-sm-7 col-xs-7">
                <div class="panel-body">
                    <div class="x_panel">

                        <!-- Map Panel Title -->
                        <div class="x_title">
                            <h2> Map </h2>
                            <div class="clearfix">
                            </div>
                        </div>
                        <!-- /Map Panel Title -->

                        <!-- Map Panel Content -->
                        <div class="x_content">
                            <div id="map" style="width:450; height:380px"></div>
                        </div>
                        <!-- /Map Panel Content -->

                    </div>
                </div>
            </div>
            <!-- /Map Panel Body -->

            <!-- Form Panel Body -->
            <div class="col-md-5 col-sm-5 col-xs-5">
                <div class="panel-body">
                    <div class="x_panel">

                        <!-- Form Panel Title -->
                        <div class="x_title">
                            <h2> Store Details </h2>
                            <ul class="nav navbar-right panel_toolbox">
                                <li class="pull-right">
                                    <button type="button" class="btn btn-primary btn-dark toggleList">
                                      <span class="fa fa-list"></span>
                                    </button>
                                </li>
                            </ul>
                            <div class="clearfix">
                            </div>
                        </div>
                        <!-- /Form Panel Title -->

                        <!-- Form Panel Content -->
                        <div class="x_content">
                            <form name="addStoreForm" novalidate>
                                <!-- Text Boxes and Other User Inputs. Note ng-model binds the values to Angular $scope -->
                                <div class="form-group">
                                    <label for="txtStoreName">Store Name*</label>
                                    <input type="text" id="txtStoreName" class="form-control" placeholder="Store Name" ng-model="formData.txtStoreName" required>
                                </div>
                                <div class="form-group">
                                    <label for="txtStoreAddress">Address*</label>
                                    <input type="text" id="txtStoreAddress" class="form-control" placeholder="Store Address" ng-model="formData.txtStoreAddress" required>
                                </div>
                                <div class="form-group" ng-controller="controllerStoreCategory">
                                    <label for="txtStoreCategory">Category*</label>
                                    <select class="form-control select" required id="txtStoreCategory" ng-model="formData.txtStoreCategory">
                                      <option ng-repeat="category in categories" values="{{category.categoryName}}">
                                        {{category.categoryName}}
                                      </option>
                                     </select>
                                </div>
                                <div class="form-group">
                                    <label for="txtLatitude">Latitude*</label>
                                    <input type="text" id="txtLatitude" class="form-control" value="39.500" ng-model="formData.txtLatitude" readonly>
                                </div>
                                <div class="form-group">
                                    <label for="txtLongitude">Longitude*</label>
                                    <input type="text" id="txtLongitude" class="form-control" value="-98.350" ng-model="formData.txtLongitude" readonly>
                                </div>
                                <!-- Submit button. Note that its tied to createStore() function from addCtrl. Also note ng-disabled logic which prevents early submits.  -->
                                <button type="submit" class="btn btn-dark btn-block" ng-click="createStore()" ng-disabled="addStoreForm.$invalid">Submit</button>
                            </form>
                        </div>
                        <!-- /Form Panel Content -->

                    </div>
                </div>
            </div>
            <!-- /Form Panel Body -->

        </div>
        <!-- /Row -->

        <!-- Row -->
        <div class="row" id="dvListStore">

            <!-- Store Detail Panel Body -->
            <div class="col-md-12 col-sm-12 col-xs-12">
                <div class="panel-body">
                    <div class="x_panel">

                        <!-- Store Detail Panel Title -->
                        <div class="x_title">
                            <h2> Store Details List </h2>
                            <ul class="nav navbar-right panel_toolbox">
                                <li class="pull-right">
                                    <button type="button" class="btn btn-primary btn-dark toggleList">
                                      <span class="fa fa-plus"></span>
                                    </button>
                                </li>
                            </ul>
                            <div class="clearfix">
                            </div>
                        </div>
                        <!-- /Store Detail Panel Title -->

                        <!-- Store Detail Panel Content -->
                        <div class="x_content">
                            <div class="x_content" style="height:30em; overflow: auto;">

                                <!-- Store Detail Table -->
                                <table datatable="ng" id="tblStoreDetail" class="table table-bordered table-hover table-responsive responsive-utilities jambo_table">

                                    <!-- Store Detail Table Head -->
                                    <thead>
                                        <tr class="headings">
                                            <th hidden>ID</th>
                                            <th style="text-align: center;">Name </th>
                                            <th style="text-align: center;">Address </th>
                                            <th style="text-align: center;">Category </th>
                                            <th style="text-align: center;">
                                                <span class="nobr">Action</span>
                                            </th>
                                        </tr>
                                    </thead>
                                    <!-- /Store Detail Table Head -->

                                    <!-- Store Detail Table Body -->
                                    <tbody>
                                        <tr ng-repeat="store in activeStores">
                                            <td hidden>{{store._id}}</td>
                                            <td width="200">{{store.storeName}}</td>
                                            <td width="250">{{store.storeAddress}}</td>
                                            <td width="150">{{store.storeCategory}}</td>
                                            <td width="180">
                                                <div class="btn-group">
                                                    <button class="btn btn-success" type="button" data-toggle="modal" data-target="#modalEditStore" ng-click="rowDataStore(store)">
                                                      <span class="glyphicon glyphicon-pencil">
                                                        &nbspEdit
                                                      </span>
                                                    </button>
                                                    <button class="btn btn-danger" type="button" data-toggle="modal" data-target="#modalDeleteStore" ng-click="rowDataStore(store)">
                                                      Delete&nbsp
                                                      <span class="glyphicon glyphicon-trash">
                                                      </span>
                                                    </button>
                                                </div>
                                            </td>
                                        </tr>
                                    </tbody>
                                    <!-- /Store Detail Table Body -->

                                </table>
                                <!-- /Store Detail Table -->

                            </div>
                        </div>
                        <!-- /Store Detail Panel Content -->

                    </div>
                </div>
            </div>
            <!-- /Store Details Panel Body -->

        </div>
        <!-- /Row -->

    </div>
    <!-- /Containing Div -->

    <!-- Footer Content -->
    <footer>
        <div class="">
            <p class="pull-right">Gentelella Alela! a Bootstrap 3 template by <a>Kimlabs</a>. |
                <span class="lead"> <i class="fa fa-paw"></i> Gentelella Alela!</span>
            </p>
        </div>
        <div class="clearfix"></div>
    </footer>
    <!-- /Footer Content -->

    <!-- Modals -->
    <!-- Edit Store Modal -->
    <div id="modalEditStore" class="modal fade bs-example-modal-lg" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">×</span>
                </button>
                    <h4 class="modal-title" id="myModalLabel">Edit Store Details</h4>
                </div>

                <div class="modal-body">
                    <form class="form-horizontal form-label-left" name="editStoreForm" novalidate>
                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Store Name*</label>
                            <div class="col-md-7 col-sm-6 col-xs-12">
                                <input type="hidden" class="form-control" id="txtEditStoreID" placeholder="Store ID" ng-model="formData.txtEditStoreID" required readonly>
                                <input type="text" class="form-control" id="txtEditStoreName" placeholder="Store Name" ng-model="formData.txtEditStoreName" required>
                            </div>
                        </div>

                        <br/>

                        <div class="form-group">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Address*</label>
                            <div class="col-md-7 col-sm-6 col-xs-12">
                                <input type="text" class="form-control" id="txtEditStoreAddress" placeholder="Store Address" ng-model="formData.txtEditStoreAddress" required>
                            </div>
                        </div>

                        <br/>

                        <div class="form-group" ng-controller="controllerStoreCategory">
                            <label class="control-label col-md-3 col-sm-4 col-xs-12">Category*</label>
                            <div class="col-md-7 col-sm-6 col-xs-12">
                                <select class="form-control select" id="txtEditStoreCategory" required ng-model="formData.txtEditStoreCategory">
                                   <option ng-repeat="category in categories" values="{{category.categoryName}}">
                                     {{category.categoryName}}
                                   </option>
                               </select>
                            </div>
                        </div>

                    </form>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-dark" data-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-dark" data-dismiss="modal" style="margin-bottom: 5px" ng-click="updateStore();" ng-disabled="editStoreForm.$invalid">Save</button>
                </div>

            </div>
        </div>
    </div>
    <!-- /Edit Store Modal -->

    <!-- Delete Store Modal -->
    <div id="modalDeleteStore" class="modal fade bs-example-modal-sm" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-sm">
            <div class="modal-content">

                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">
                  <span aria-hidden="true">×</span>
                </button>
                    <h4 class="modal-title" id="myModalLabel">Delete Store</h4>
                </div>

                <div class="modal-body">
                    <form class="form-horizontal form-label-left" name="deleteStoreForm" novalidate>
                        <div class="form-group">
                            <div class="col-md-12 col-sm-12 col-xs-12">
                                <h5>Are you sure you'd like to delete this record?</h5>
                                <input type="hidden" class="form-control" id="txtDeleteStoreID" placeholder="Store ID" ng-model="formData.txtDeleteStoreID" required readonly>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-dark" data-dismiss="modal">No</button>
                    <button type="submit" class="btn btn-dark" data-dismiss="modal" style="margin-bottom: 5px" ng-click="deleteStore();" ng-disabled="deleteStoreForm.$invalid">Yes</button>
                </div>

            </div>
        </div>
    </div>
    <!-- /Delete Store Modal -->
    <!-- /Modals -->

</div>
